<!-- 
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HTCP Password Generator</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#4a00e0" />
  <link rel="icon" href="icons/icon-192.png" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #4a00e0, #8e2de2);
      color: #fff;
      text-align: center;
      padding: 2rem;
      margin: 0;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }

    p {
      margin-top: 0;
      font-size: 1.2rem;
    }

    input[type="text"] {
      padding: 1rem;
      font-size: 1.2rem;
      width: 90%;
      max-width: 320px;
      border: 2px solid transparent;
      border-radius: 14px;
      margin-top: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      text-align: center;
      direction: ltr;
      transition: border 0.3s ease;
    }

    input.invalid {
      border-color: red;
    }

    button {
      margin-top: 1.2rem;
      padding: 0.8rem 2.5rem;
      font-size: 1rem;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    button:disabled {
      background-color: #a5d6a7; /* سبز کم‌رنگ */
      cursor: not-allowed;
    }

    button:not(:disabled) {
      background-color: #00c853; /* سبز پررنگ */
      color: white;
    }

    #output {
      margin-top: 2rem;
      font-size: 1.4rem;
      font-weight: bold;
      background: rgba(255, 255, 255, 0.1);
      padding: 1rem;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    #error {
      color: red;
      font-weight: bold;
      margin-top: 1rem;
    }

    @media (max-width: 500px) {
      h1 { font-size: 2rem; }
      input, button { font-size: 1rem; }
    }
  </style>
</head>
<body>
  <h1>HTCP Password Generator</h1>
  <p>Please enter a 12-digit HTCP number:</p>
  <input type="text" id="codeInput" placeholder="Enter your HTCP number" />
  <div id="error"></div>
  <br />
  <button id="generateBtn" onclick="generateCode()" disabled>Generate Password</button>
  <div id="output"></div>

  <script>
    async function encrypt(content, password) {
      const salt = crypto.getRandomValues(new Uint8Array(16));
      const key = await getKey(password, salt);
      const iv = crypto.getRandomValues(new Uint8Array(12));
      const contentBytes = stringToBytes(content);
      const cipher = new Uint8Array(
        await crypto.subtle.encrypt({ name: "AES-GCM", iv }, key, contentBytes)
      );
      return {
        salt: bytesToBase64(salt),
        iv: bytesToBase64(iv),
        cipher: bytesToBase64(cipher),
      };
    }

    async function decrypt(encryptedData, password) {
      const salt = base64ToBytes(encryptedData.salt);
      const key = await getKey(password, salt);
      const iv = base64ToBytes(encryptedData.iv);
      const cipher = base64ToBytes(encryptedData.cipher);
      const contentBytes = new Uint8Array(
        await crypto.subtle.decrypt({ name: "AES-GCM", iv }, key, cipher)
      );
      return bytesToString(contentBytes);
    }

    async function getKey(password, salt) {
      const passwordBytes = stringToBytes(password);
      const initialKey = await crypto.subtle.importKey(
        "raw",
        passwordBytes,
        { name: "PBKDF2" },
        false,
        ["deriveKey"]
      );
      return crypto.subtle.deriveKey(
        { name: "PBKDF2", salt, iterations: 100000, hash: "SHA-256" },
        initialKey,
        { name: "AES-GCM", length: 256 },
        false,
        ["encrypt", "decrypt"]
      );
    }

    function bytesToString(bytes) {
      return new TextDecoder().decode(bytes);
    }

    function stringToBytes(str) {
      return new TextEncoder().encode(str);
    }

    function bytesToBase64(arr) {
      return btoa(Array.from(arr, (b) => String.fromCharCode(b)).join(""));
    }

    function base64ToBytes(base64) {
      return Uint8Array.from(atob(base64), (c) => c.charCodeAt(0));
    }

    const inputEl = document.getElementById("codeInput");
    const errorEl = document.getElementById("error");
    const outputEl = document.getElementById("output");
    const buttonEl = document.getElementById("generateBtn");

    inputEl.addEventListener("input", () => {
      if (/^\d{12}$/.test(inputEl.value)) {
        buttonEl.disabled = false;
        inputEl.classList.remove("invalid");
        errorEl.textContent = "";
      } else {
        buttonEl.disabled = true;
      }
    });

    inputEl.addEventListener("keypress", function (event) {
      if (event.key === "Enter" && !buttonEl.disabled) {
        event.preventDefault();
        generateCode();
      }
    });

    function generateSecretCode(input) {
      let seed = 0;
      for (let i = 0; i < input.length; i++) {
        seed += input.charCodeAt(i) * (i + 7);
        seed = seed ^ (seed << 3);
      }
      const chars = '123456789';
      let code = '';
      for (let i = 0; i < 12; i++) {
        seed = (seed * 31 + i * 20) % 1e9;
        let index = Math.abs(seed % chars.length);
        code += chars[index];
      }
      return code;
    }

    function generateCode() {
      const input = inputEl.value;

      if (!/^\d{12}$/.test(input)) {
        errorEl.textContent = "❌ Invalid input! Please enter exactly 12 digits.";
        inputEl.classList.add("invalid");
        outputEl.textContent = "";
        return;
      }

      inputEl.classList.remove("invalid");
      errorEl.textContent = "";

      const result = generateSecretCode(input);
      outputEl.textContent = `✅ Your HTCP password: ${result}`;
    }

    // Service Worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js')
          .then(reg => console.log('✅ Service Worker Registered'))
          .catch(err => console.log('❌ Service Worker Registration Failed:', err));
      });
    }
  </script>
</body>
</html>


 -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HTCP Password Generator</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#4a00e0" />
  <link rel="icon" href="icons/icon-192.png" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #4a00e0, #8e2de2);
      color: #fff;
      text-align: center;
      padding: 2rem;
      margin: 0;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }

    p {
      margin-top: 0;
      font-size: 1.2rem;
    }

    input[type="text"] {
      padding: 1rem;
      font-size: 1.2rem;
      width: 90%;
      max-width: 320px;
      border: 2px solid transparent;
      border-radius: 14px;
      margin-top: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      text-align: center;
      direction: ltr;
      transition: border 0.3s ease;
    }

    input.invalid {
      border-color: red;
    }

    button {
      margin-top: 1.2rem;
      padding: 0.8rem 2.5rem;
      font-size: 1rem;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    button:disabled {
      background-color: #a5d6a7;
      cursor: not-allowed;
    }

    button:not(:disabled) {
      background-color: #00c853;
      color: white;
    }

    #output {
      margin-top: 2rem;
      font-size: 1.4rem;
      font-weight: bold;
      background: rgba(255, 255, 255, 0.1);
      padding: 1rem;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      white-space: pre-wrap;
      text-align: left;
      max-width: 320px;
      margin-left: auto;
      margin-right: auto;
    }

    #error {
      color: red;
      font-weight: bold;
      margin-top: 1rem;
    }

    @media (max-width: 500px) {
      h1 { font-size: 2rem; }
      input, button { font-size: 1rem; }
      #output { max-width: 90%; }
    }
  </style>
</head>
<body>
  <h1>HTCP Password Generator</h1>
  <p>Please enter your HTCP number (only English digits):</p>
  <input type="text" id="codeInput" placeholder="Enter your HTCP number" />
  <div id="error"></div>
  <br />
  <button id="generateBtn" onclick="generateCode()" disabled>Generate Password</button>
  <div id="output"></div>

  <script>
    const inputEl = document.getElementById("codeInput");
    const errorEl = document.getElementById("error");
    const outputEl = document.getElementById("output");
    const buttonEl = document.getElementById("generateBtn");

    inputEl.addEventListener("input", () => {
      const value = inputEl.value;
      if (/^[0-9]*$/.test(value) && value.length > 0) {
        buttonEl.disabled = false;
        inputEl.classList.remove("invalid");
        errorEl.textContent = "";
      } else {
        buttonEl.disabled = true;
        if (value.length > 0) {
          errorEl.textContent = "❌ فقط عدد انگلیسی وارد کنید!";
          inputEl.classList.add("invalid");
        } else {
          errorEl.textContent = "";
          inputEl.classList.remove("invalid");
        }
      }
    });

    inputEl.addEventListener("keypress", function (event) {
      if (event.key === "Enter" && !buttonEl.disabled) {
        event.preventDefault();
        generateCode();
      }
    });

    async function generateCode() {
      const input = inputEl.value.trim();

      if (!/^[0-9]+$/.test(input)) {
        errorEl.textContent = "❌ ورودی فقط باید عدد انگلیسی باشد!";
        inputEl.classList.add("invalid");
        outputEl.textContent = "";
        return;
      }

      inputEl.classList.remove("invalid");
      errorEl.textContent = "";

      try {
        const password = "htcp-password"; // رمز ثابت یا دلخواه
        const encrypted = await encrypt(input, password);
        const output = JSON.stringify(encrypted, null, 2);
        outputEl.textContent = `🔐 Encrypted Output:\n${output}`;
      } catch (err) {
        console.error(err);
        errorEl.textContent = "❌ Encryption failed.";
      }
    }

    async function encrypt(content, password) {
      const salt = crypto.getRandomValues(new Uint8Array(16));
      const key = await getKey(password, salt);
      const iv = crypto.getRandomValues(new Uint8Array(12));
      const contentBytes = stringToBytes(content);
      const cipher = new Uint8Array(
        await crypto.subtle.encrypt({ name: "AES-GCM", iv }, key, contentBytes)
      );
      return {
        salt: bytesToBase64(salt),
        iv: bytesToBase64(iv),
        cipher: bytesToBase64(cipher),
      };
    }

    async function decrypt(encryptedData, password) {
      const salt = base64ToBytes(encryptedData.salt);
      const key = await getKey(password, salt);
      const iv = base64ToBytes(encryptedData.iv);
      const cipher = base64ToBytes(encryptedData.cipher);
      const contentBytes = new Uint8Array(
        await crypto.subtle.decrypt({ name: "AES-GCM", iv }, key, cipher)
      );
      return bytesToString(contentBytes);
    }

    async function getKey(password, salt) {
      const passwordBytes = stringToBytes(password);
      const initialKey = await crypto.subtle.importKey(
        "raw",
        passwordBytes,
        { name: "PBKDF2" },
        false,
        ["deriveKey"]
      );
      return crypto.subtle.deriveKey(
        { name: "PBKDF2", salt, iterations: 100000, hash: "SHA-256" },
        initialKey,
        { name: "AES-GCM", length: 256 },
        false,
        ["encrypt", "decrypt"]
      );
    }

    function bytesToString(bytes) {
      return new TextDecoder().decode(bytes);
    }

    function stringToBytes(str) {
      return new TextEncoder().encode(str);
    }

    function bytesToBase64(arr) {
      return btoa(Array.from(arr, (b) => String.fromCharCode(b)).join(""));
    }

    function base64ToBytes(base64) {
      return Uint8Array.from(atob(base64), (c) => c.charCodeAt(0));
    }

    // Service Worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js')
          .then(reg => console.log('✅ Service Worker Registered'))
          .catch(err => console.log('❌ Service Worker Registration Failed:', err));
      });
    }
  </script>
</body>
</html> -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HTCP Password Generator</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#4a00e0" />
  <link rel="icon" href="icons/icon-192.png" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #4a00e0, #8e2de2);
      color: #fff;
      text-align: center;
      padding: 2rem;
      margin: 0;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }

    p {
      margin-top: 0;
      font-size: 1.2rem;
    }

    input[type="text"] {
      padding: 1rem;
      font-size: 1.2rem;
      width: 90%;
      max-width: 320px;
      border: 2px solid transparent;
      border-radius: 14px;
      margin-top: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      text-align: center;
      direction: ltr;
      transition: border 0.3s ease;
    }

    input.invalid {
      border-color: red;
    }

    button {
      margin-top: 1.2rem;
      padding: 0.8rem 2.5rem;
      font-size: 1rem;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    button:disabled {
      background-color: #a5d6a7;
      cursor: not-allowed;
    }

    button:not(:disabled) {
      background-color: #00c853;
      color: white;
    }

    #output {
      margin-top: 2rem;
      font-size: 1.4rem;
      font-weight: bold;
      background: rgba(255, 255, 255, 0.1);
      padding: 1rem;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    #error {
      color: red;
      font-weight: bold;
      margin-top: 1rem;
    }

    @media (max-width: 500px) {
      h1 { font-size: 2rem; }
      input, button { font-size: 1rem; }
    }
  </style>
</head>
<body>
  <h1>HTCP Password Generator</h1>
  <p>Please enter a number:</p>
  <input type="text" id="codeInput" placeholder="Enter a number (e.g. 123456789)" />
  <div id="error"></div>
  <br />
  <button id="generateBtn" onclick="generateCode()" disabled>Generate Password</button>
  <div id="output"></div>

  <script>
    const inputEl = document.getElementById("codeInput");
    const errorEl = document.getElementById("error");
    const outputEl = document.getElementById("output");
    const buttonEl = document.getElementById("generateBtn");

    inputEl.addEventListener("input", () => {
      if (/^[0-9]+$/.test(inputEl.value.trim())) {
        buttonEl.disabled = false;
        inputEl.classList.remove("invalid");
        errorEl.textContent = "";
      } else {
        buttonEl.disabled = true;
        errorEl.textContent = "❌ ورودی فقط باید عدد انگلیسی باشد!";
        inputEl.classList.add("invalid");
        outputEl.textContent = "";
      }
    });

    inputEl.addEventListener("keypress", function (event) {
      if (event.key === "Enter" && !buttonEl.disabled) {
        event.preventDefault();
        generateCode();
      }
    });

    async function generateCode() {
      const input = inputEl.value.trim();

      if (!/^[0-9]+$/.test(input)) {
        errorEl.textContent = "❌ ورودی فقط باید عدد انگلیسی باشد!";
        inputEl.classList.add("invalid");
        outputEl.textContent = "";
        return;
      }

      inputEl.classList.remove("invalid");
      errorEl.textContent = "";

      try {
        const password = "htcp-password";
        const result = await encryptTo12DigitNumber(input, password);
        outputEl.textContent = `✅ Your HTCP password: ${result}`;
      } catch (err) {
        console.error(err);
        errorEl.textContent = "❌ رمزگذاری با خطا مواجه شد.";
        outputEl.textContent = "";
      }
    }

    async function encryptTo12DigitNumber(input, password) {
      const salt = crypto.getRandomValues(new Uint8Array(16));
      const iv = crypto.getRandomValues(new Uint8Array(12));
      const key = await getKey(password, salt);
      const contentBytes = stringToBytes(input);

      const encrypted = new Uint8Array(
        await crypto.subtle.encrypt({ name: "AES-GCM", iv }, key, contentBytes)
      );

      const allBytes = new Uint8Array([...salt, ...iv, ...encrypted]);

      const hashBuffer = await crypto.subtle.digest("SHA-256", allBytes);
      const hashArray = Array.from(new Uint8Array(hashBuffer));

      const hashHex = hashArray
        .slice(0, 8)
        .map((b) => b.toString(16).padStart(2, "0"))
        .join("");

      const hashNum = BigInt("0x" + hashHex);
      const code12Digit = (hashNum % 1_000_000_000_000n).toString().padStart(12, "0");

      return code12Digit;
    }

    async function getKey(password, salt) {
      const passwordBytes = stringToBytes(password);
      const initialKey = await crypto.subtle.importKey(
        "raw",
        passwordBytes,
        { name: "PBKDF2" },
        false,
        ["deriveKey"]
      );

      return crypto.subtle.deriveKey(
        {
          name: "PBKDF2",
          salt,
          iterations: 100000,
          hash: "SHA-256",
        },
        initialKey,
        { name: "AES-GCM", length: 256 },
        false,
        ["encrypt", "decrypt"]
      );
    }

    function stringToBytes(str) {
      return new TextEncoder().encode(str);
    }

    // Service Worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js')
          .then(reg => console.log('✅ Service Worker Registered'))
          .catch(err => console.log('❌ Service Worker Registration Failed:', err));
      });
    }
  </script>
</body>
</html> -->
<!-- <!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HTCP Password Generator</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#4a00e0" />
  <link rel="icon" href="icons/icon-192.png" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #4a00e0, #8e2de2);
      color: #fff;
      text-align: center;
      padding: 2rem;
      margin: 0;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }

    p {
      margin-top: 0;
      font-size: 1.2rem;
    }

    input[type="text"] {
      padding: 1rem;
      font-size: 1.2rem;
      width: 90%;
      max-width: 320px;
      border: 2px solid transparent;
      border-radius: 14px;
      margin-top: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      text-align: center;
      direction: ltr;
      transition: border 0.3s ease;
    }

    input.invalid {
      border-color: red;
    }

    button {
      margin-top: 1.2rem;
      padding: 0.8rem 2.5rem;
      font-size: 1rem;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    button:disabled {
      background-color: #a5d6a7;
      cursor: not-allowed;
    }

    button:not(:disabled) {
      background-color: #00c853;
      color: white;
    }

    #output {
      margin-top: 2rem;
      font-size: 1.4rem;
      font-weight: bold;
      background: rgba(255, 255, 255, 0.1);
      padding: 1rem;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    #error {
      color: red;
      font-weight: bold;
      margin-top: 1rem;
    }

    @media (max-width: 500px) {
      h1 { font-size: 2rem; }
      input, button { font-size: 1rem; }
    }
  </style>
</head>
<body>
  <h1>HTCP Password Generator</h1>
  <p>لطفاً عدد مورد نظر را وارد کنید:</p>
  <input type="text" id="codeInput" placeholder="مثلاً: 1234567890" />
  <div id="error"></div>
  <br />
  <button id="generateBtn" onclick="generateCode()" disabled>تولید رمز</button>
  <div id="output"></div>

  <script src="main.js"></script>

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js')
          .then(reg => console.log('✅ Service Worker Registered'))
          .catch(err => console.log('❌ Service Worker Failed:', err));
      });
    }
  </script>
</body>
</html> -->
<!-- <!DOCTYPE html> -->
<!-- <html lang="fa">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HTCP Password Generator</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#4a00e0" />
  <link rel="icon" href="icons/icon-192.png" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #4900da, #8e2de2);
      color: #fff;
      text-align: center;
      padding: 2rem;
      margin: 0;
    }

    input {
      padding: 0.8rem;
      font-size: 1rem;
      width: 80%;
      max-width: 300px;
      margin: 0.5rem 0;
      border-radius: 10px;
      border: none;
      text-align: center;
    }

    input.invalid {
      border: 2px solid red;
    }

    button {
      margin-top: 1rem;
      padding: 0.8rem 2rem;
      font-size: 1rem;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      background: #00c853;
      color: white;
    }

    button:disabled {
      background-color: #aaa;
    }

    #output {
      margin-top: 2rem;
      font-size: 1.3rem;
      font-weight: bold;
    }

    #error {
      color: red;
      font-weight: bold;
      margin-top: 0.5rem;
    }
  </style>
</head>
<body>
  <h1>HTCP Password Generator</h1>

  <input type="text" id="codeInput" placeholder="عدد ورودی فقط با رقم" /><br />
  <input type="date" id="dateInput" /><br />
  <input type="number" id="hourInput" min="0" max="23" placeholder="ساعت بین 0 تا 23" /><br />

  <button id="generateBtn" onclick="generateCode()">تولید رمز</button>
  <div id="error"></div>
  <div id="output"></div>

  <script src="main.js"></script>
</body>
</html>

 -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HTCP Password Generator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #4a00e0, #8e2de2);
      color: white;
      text-align: center;
      padding: 2rem;
    }
    input, button {
      font-size: 1rem;
      padding: 0.5rem;
      margin: 0.5rem 0;
      border-radius: 6px;
      border: none;
      width: 200px;
      max-width: 90%;
    }
    input.invalid {
      border: 2px solid red;
    }
    button {
      background: white;
      color: #007ACC;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    button:hover {
      background: #005fa3;
      color: white;
    }
    #output {
      margin-top: 1rem;
      font-size: 1.3rem;
      font-weight: bold;
    }
    #error {
      color: #ff6666;
      font-weight: bold;
      margin-top: 0.5rem;
    }
  </style>
</head>
<body>
  <h1>HTCP Password Generator</h1>

  <input type="text" id="codeInput" placeholder="Enter code (digits only)" />
  <br />
  <input type="date" id="dateInput" />
  <br />
  <input type="number" id="hourInput" min="0" max="23" placeholder="Hour (0-23)" />
  <br />
  <button onclick="generateCode()">Generate Password</button>

  <div id="error"></div>
  <div id="output"></div>

  <script src="main.js"></script>
</body>
</html>
 -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HTCP Password Generator</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#4a00e0" />
  <link rel="icon" href="icons/icon-192.png" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #4a00e0, #8e2de2);
      color: #fff;
      text-align: center;
      padding: 2rem;
      margin: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }

    p {
      margin-top: 0;
      font-size: 1.2rem;
    }

    input[type="text"], input[type="date"], input[type="number"] {
      padding: 1rem;
      font-size: 1.2rem;
      width: 90%;
      max-width: 320px;
      border: 2px solid transparent;
      border-radius: 14px;
      margin-top: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      text-align: center;
      direction: ltr;
      transition: border 0.3s ease;
    }

    input.invalid {
      border-color: red;
    }

    button {
      margin-top: 1.2rem;
      padding: 0.8rem 2.5rem;
      font-size: 1rem;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    button:disabled {
      background-color: #a5d6a7;
      cursor: not-allowed;
    }

    button:not(:disabled) {
      background-color: #00c853;
      color: white;
    }

    #output {
      margin-top: 2rem;
      font-size: 1.4rem;
      font-weight: bold;
      background: rgba(255, 255, 255, 0.1);
      padding: 1rem;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      word-break: break-word;
    }

    #error {
      color: red;
      font-weight: bold;
      margin-top: 1rem;
    }

    @media (max-width: 500px) {
      h1 { font-size: 2rem; }
      input, button { font-size: 1rem; }
    }
  </style>
</head>
<body>
  <h1>HTCP Password Generator</h1>
  <p>Enter HTCP code, date and hour:</p>
  <input type="text" id="codeInput" placeholder="Digits only" />
  <input type="date" id="dateInput" />
  <input type="number" id="hourInput" min="0" max="23" placeholder="Hour (0-23)" />
  <div id="error"></div>
  <button id="generateBtn" onclick="generateCode()">Generate Password</button>
  <div id="output"></div>

  <script src="main.js"></script>
</body>
</html>
 -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HDCP Password Generator</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#4a00e0" />
  <link rel="icon" href="icons/icon-192.png" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #6A359C, #552586);
      color: #fff;
      text-align: center;
      padding: 2rem;
      margin: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .container {
      width: 100%;
      max-width: 400px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }

    p {
      margin-top: 0;
      font-size: 1.2rem;
    }

    input[type="text"], input[type="date"], input[type="number"] {
      padding: 1rem;
      font-size: 1.2rem;
      width: 100%;
      border: 2px solid transparent;
      border-radius: 14px;
      margin-top: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      text-align: center;
      direction: ltr;
      transition: border 0.3s ease;
    }

    input.invalid {
      border-color: red;
    }

    button {
      margin-top: 1.2rem;
      padding: 0.8rem 2.5rem;
      font-size: 1rem;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: background 0.3s ease;
      width: 100%;
      max-width: 200px;
    }

    button:disabled {
      background-color: #a5d6a7;
      cursor: not-allowed;
    }

    button:not(:disabled) {
      background-color: #00c853;
      color: white;
    }

    #output {
      margin-top: 2rem;
      font-size: 1.4rem;
      font-weight: bold;
      background: rgba(255, 255, 255, 0.1);
      padding: 1rem;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      word-break: break-word;
      width: 100%;
    }

    #error {
      color: red;
      font-weight: bold;
      margin-top: 1rem;
      width: 100%;
    }

    @media (max-width: 500px) {
      h1 { font-size: 2rem; }
      input, button { font-size: 1rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>HDCP Password Generator</h1>
    <p>Enter HDCP code, date and hour:</p>
    <input type="text" id="codeInput" placeholder="Digits only" />
    <input type="date" id="dateInput" />
    <input type="number" id="hourInput" min="0" max="23" placeholder="Hour (0-23)" />
    <div id="error"></div>
    <button id="generateBtn" onclick="generateCode()">Generate Password</button>
    <div id="output"></div>
  </div>

  <script src="main.js"></script>
</body>
</html> -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HDCP Generator - Restricted Access</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #4a00e0, #8e2de2);
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
    }
    .auth-container, .app-container {
      background: rgba(255, 255, 255, 0.1);
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      width: 100%;
      max-width: 400px;
      text-align: center;
    }
    .app-container { display: none; }
    input {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border: none;
      border-radius: 8px;
      font-size: 16px;
    }
    button {
      background: #00c853;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 10px;
      width: 100%;
    }
    #output {
      margin-top: 20px;
      word-break: break-all;
    }
  </style>
</head>
<body>
  <div class="auth-container">
    <h2>ورود به سیستم</h2>
    <input type="text" id="username" placeholder="Username">
    <input type="password" id="password" placeholder="Password">
    <button onclick="login()">ورود</button>
    <p id="loginError" style="color:red;"></p>
  </div>

  <div class="app-container">
    <h1>HDCP Generator</h1>
    <input type="text" id="codeInput" placeholder="HDCP Code">
    <input type="date" id="dateInput">
    <input type="number" id="hourInput" placeholder="Hour (0-23)" min="0" max="23">
    <input type="text" id="customKey" placeholder="Secret Key (Optional)">
    <button onclick="generatePassword()">تولید رمز</button>
    <div id="output"></div>
  </div>

  <script src="main.js"></script>
</body>
</html> -->
<!-- <!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>سیستم تولید رمز HDCP</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #4a00e0, #8e2de2);
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
    }
    .container {
      background: rgba(255, 255, 255, 0.1);
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      width: 100%;
      max-width: 500px;
    }
    .tabs {
      display: flex;
      margin-bottom: 20px;
      gap: 10px;
    }
    .tab-btn {
      flex: 1;
      padding: 12px;
      background: rgba(255,255,255,0.2);
      border: none;
      border-radius: 8px;
      color: white;
      cursor: pointer;
      font-size: 16px;
    }
    .tab-btn.active {
      background: #00c853;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
    input {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border: none;
      border-radius: 8px;
      font-size: 16px;
    }
    button {
      background: #00c853;
      color: white;
      border: none;
      padding: 12px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 10px;
      width: 100%;
    }
    .error {
      color: #ff6b6b;
      margin: 10px 0;
      text-align: center;
    }
    .success {
      color: #51cf66;
      text-align: center;
      margin-top: 20px;
      word-break: break-all;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="tabs">
      <button class="tab-btn active" data-tab="login">ورود به سیستم</button>
      <button class="tab-btn" data-tab="generator">تولید رمز</button>
    </div>

    <div id="login" class="tab-content active">
      <h2 style="text-align: center;">احراز هویت</h2>
      <input type="text" id="username" placeholder="نام کاربری">
      <input type="password" id="password" placeholder="رمز عبور">
      <input type="text" id="secretKey" placeholder="کلید اختصاصی HDCP">
      <button id="loginBtn">تایید و ورود</button>
      <p id="loginError" class="error"></p>
    </div>

    <div id="generator" class="tab-content">
      <h2 style="text-align: center;">تولید رمز HDCP</h2>
      <input type="text" id="hdcpCode" placeholder="کد HDCP">
      <input type="date" id="dateInput">
      <input type="number" id="hourInput" placeholder="ساعت (0-23)" min="0" max="23">
      <button id="generateBtn">تولید رمز</button>
      <div id="passwordOutput" class="success"></div>
    </div>
  </div>

  <script src="main.js"></script>
</body>
</html> -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HDCP Password Generator</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #4a00e0, #8e2de2);
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
    }
    .container {
      background: rgba(255, 255, 255, 0.1);
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      width: 100%;
      max-width: 500px;
    }
    .tabs {
      display: flex;
      margin-bottom: 20px;
      gap: 10px;
    }
    .tab-btn {
      flex: 1;
      padding: 12px;
      background: rgba(255,255,255,0.2);
      border: none;
      border-radius: 8px;
      color: white;
      cursor: pointer;
      font-size: 16px;
    }
    .tab-btn.active {
      background: #00c853;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
    input {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border: none;
      border-radius: 8px;
      font-size: 16px;
    }
    button {
      background: #00c853;
      color: white;
      border: none;
      padding: 12px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 10px;
      width: 100%;
    }
    .error {
      color: #ff6b6b;
      margin: 10px 0;
      text-align: center;
    }
    .success {
      color: #51cf66;
      text-align: center;
      margin-top: 20px;
      word-break: break-all;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="tabs">
      <button class="tab-btn active" data-tab="login">Login</button>
      <button class="tab-btn" data-tab="generator">Generator</button>
    </div>

    <div id="login" class="tab-content active">
      <h2 style="text-align: center;">Authentication</h2>
      <input type="text" id="username" placeholder="Username">
      <input type="password" id="password" placeholder="Password">
      <input type="text" id="secretKey" placeholder="HDCP Secret Key">
      <button id="loginBtn">Login</button>
      <p id="loginError" class="error"></p>
    </div>

    <div id="generator" class="tab-content">
      <h2 style="text-align: center;">HDCP Generator</h2>
      <input type="text" id="hdcpCode" placeholder="HDCP Code">
      <input type="date" id="dateInput">
      <input type="number" id="hourInput" placeholder="Hour (0-23)" min="0" max="23">
      <button id="generateBtn">Generate Password</button>
      <div id="passwordOutput" class="success"></div>
    </div>
  </div>

  <script src="main.js"></script>
</body>
</html> -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HDCP Password Generator</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #4a00e0, #8e2de2);
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      padding: 15px;
    }
    
    .container {
      background: rgba(255, 255, 255, 0.1);
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      width: 90%;
      max-width: 350px;
      text-align: center;
    }
    
    /* Compact input fields */
    input {
      width: 85%;
      padding: 8px 12px;
      margin: 8px auto;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 14px;
      background: rgba(255,255,255,0.95);
      display: block;
      max-width: 250px;
    }
    
    button {
      width: 90%;
      max-width: 260px;
      padding: 8px;
      margin: 10px auto;
      background: #00c853;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }
    
    /* Focus effect */
    input:focus {
      outline: none;
      border-color: #8e2de2;
      box-shadow: 0 0 0 2px rgba(142,45,226,0.2);
    }
    
    .error {
      color: #ff6b6b;
      margin: 10px 0;
    }
    
    .success {
      color: #51cf66;
      margin-top: 15px;
      word-break: break-all;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="login" class="tab-content active">
      <h2 style="margin-bottom: 15px;">Login</h2>
      <input type="text" id="username" placeholder="Username">
      <input type="password" id="password" placeholder="Password">
      <input type="text" id="secretKey" placeholder="HDCP Secret Key">
      <button id="loginBtn" style="margin-top: 15px;">Login</button>
      <p id="loginError" class="error"></p>
    </div>

    <div id="generator" class="tab-content" style="display:none;">
      <h2 style="margin-bottom: 15px;">HDCP Generator</h2>
      <input type="text" id="hdcpCode" placeholder="HDCP Code">
      <input type="date" id="dateInput">
      <input type="number" id="hourInput" placeholder="Hour (0-23)" min="0" max="23">
      <button id="generateBtn">Generate Password</button>
      <div id="passwordOutput" class="success"></div>
    </div>
  </div>

  <script src="main.js"></script>
</body>
</html> -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HDCP Password Generator</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #4a00e0, #8e2de2);
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      padding: 15px;
    }
    
    .container {
      background: rgba(255, 255, 255, 0.1);
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      width: 90%;
      max-width: 350px;
    }
    
    .form-group {
      width: 100%;
      margin: 0 auto;
      max-width: 280px;
    }
    
    input {
      width: 100%;
      padding: 10px 12px;
      margin: 8px 0;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 14px;
      background: rgba(255,255,255,0.95);
      box-sizing: border-box;
    }
    
    button {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      background: #00c853;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }
    
    input:focus {
      outline: none;
      border-color: #8e2de2;
      box-shadow: 0 0 0 2px rgba(142,45,226,0.2);
    }
    
    .error {
      color: #ff6b6b;
      margin: 5px 0;
      text-align: center;
      font-size: 13px;
      min-height: 18px;
    }
    
    h2 {
      text-align: center;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="login" class="tab-content active">
      <h2>Login</h2>
      <div class="form-group">
        <input type="text" id="username" placeholder="Username">
        <input type="password" id="password" placeholder="Password">
        <input type="text" id="secretKey" placeholder="HDCP Secret Key">
        <button id="loginBtn">Login</button>
        <p id="loginError" class="error"></p>
      </div>
    </div>

    <div id="generator" class="tab-content" style="display:none;">
      <h2>HDCP Generator</h2>
      <div class="form-group">
        <input type="text" id="hdcpCode" placeholder="HDCP Code">
        <input type="date" id="dateInput">
        <input type="number" id="hourInput" placeholder="Hour (0-23)" min="0" max="23">
        <button id="generateBtn">Generate Password</button>
        <div id="passwordOutput" class="error" style="color:#51cf66;"></div>
      </div>
    </div>
  </div>

  <script src="main.js"></script>
</body>
</html> -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HDCP Password Generator</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="icons/icon-192.png" sizes="192x192" type="image/png" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />

  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #552586, #6A359C);
      color: #ffffff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;a
      padding: 15px;
    }

    .container {
      background: rgba(255, 255, 255, 0.1);
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      width: 90%;
      max-width: 350px;
      position: relative;
    }

    .form-group {
      width: 100%;
      margin: 0 auto;
      max-width: 280px;
      position: relative;
    }

    input {
      width: 100%;
      padding: 10px 12px;
      margin: 8px 0;
      border: 1px solid #ffffff;
      border-radius: 6px;
      font-size: 14px;
      background: #ffffff;
      box-sizing: border-box;
    }

    .password-container {
      position: relative;
    }

    .toggle-password {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      color: #ffffff;
      cursor: pointer;
    }

    button {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      background: #327c34;
      color: #ffffff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }

    .error {
      color: #ff6b6b;
      margin: 5px 0;
      text-align: center;
      font-size: 13px;
      min-height: 18px;
    }

    h2 {
      text-align: center;
      margin-bottom: 20px;
    }

    #backBtn {
      position: absolute;
      top: 0px;
      left: 37px; 
      background: transparent !important;
      border: none;
      color: #ffffff;
      font-size: 18px;
      cursor: pointer;
      padding: 0;
      width: auto;
      height: auto;
      line-height: 1;
      user-select: none;
    }

    #backBtn:hover {
      color: #327c34;
    }

    #copyBtn {
      background: transparent;
      border: none;
      color: #ffffff;
      font-size: 20px;
      cursor: pointer;
      padding: 2px;
      margin-left: 10px;
      transition: transform 0.2s ease;
      vertical-align: middle;
      display: none; /* مخفی به طور پیش‌فرض */
    }

    #copyBtn:hover {
      transform: scale(1.2);
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="login" class="tab-content active">
      
      <h2>Login</h2>
      <div class="form-group">
        <input type="text" id="username" placeholder="Username" />
        <div class="password-container">
          <input type="password" id="password" placeholder="Password" />
          <span class="toggle-password" title="Toggle Password Visibility">👁️</span>
        </div>
        <button id="loginBtn">Login</button>
        
        <p id="loginError" class="error"></p>
      </div>
      
    </div>

    <div id="generator" class="tab-content" style="display: none; position: relative;">
      <button id="backBtn" title="Back to Login">◀</button>
      <h2 style="color: #ffffff;">HDCP Generator</h2>
      <div class="form-group">
        <input type="text" id="secretKey" placeholder="Certificate" />
        <input type="text" id="hdcpCode" placeholder="HDCP Code" />
        <input type="date" id="dateInput" />
        <input
          type="number"
          id="hourInput"
          placeholder="Hour (0-23)"
          min="0"
          max="23"
        />
        <button id="generateBtn">Generate Password</button>
        <div style="display: flex; align-items: center; margin-top: 10px;">
          <div id="passwordOutput" class="error" style="color: #327c34; flex: 1;"></div>
          <button id="copyBtn" title="Copy Password">📋</button>
        </div>
      </div>
    </div>
  </div>

  <script src="main.js"></script>
</body>
</html>

  <script src="main.js"></script>
</body>
</html>
